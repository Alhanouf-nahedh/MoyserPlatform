{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="{% static 'main_app/styles/style.css' %}">
    <title>Base page</title>
</head>
<body>

	<nav class="relative px-4 py-4 flex justify-between items-center bg-white">
		<a class="text-3xl font-bold leading-none" href="#">
            <img src="{% static 'images/MoyserLogo.png' %}" alt="logo" class="h-20 w-35" />
		</a>
		<div class="lg:hidden">
			<button class="navbar-burger flex items-center text-blue-600 p-3">
				<svg class="block h-4 w-4 fill-current" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
					<title>Mobile menu</title>
					<path d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"></path>
				</svg>
			</button>
		</div>
		<ul class="hidden absolute top-1/2 left-1/2 transform -translate-y-1/2 -translate-x-1/2 lg:flex lg:mx-auto lg:flex lg:items-center lg:w-auto lg:space-x-6">
			<li><a class="text-sm text-gray-400 hover:text-sky-600 font-bold" href="{% url 'main_app:home_view'%}">Home</a></li>
			<li class="text-gray-300">
				<svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" class="w-4 h-4 current-fill" viewBox="0 0 24 24">
					<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v0m0 7v0m0 7v0m0-13a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z" />
				</svg>
			</li>
			<li><a class="text-sm text-sky-600 font-bold" href= "{% url 'booking_app:companion_list'%}">Find Companion</a></li>
			<li class="text-gray-300">
				<svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" class="w-4 h-4 current-fill" viewBox="0 0 24 24">
					<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v0m0 7v0m0 7v0m0-13a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z" />
				</svg>
			</li>
			
			<ul>
				{% if user.role == 'beneficiary' %}
					<li class="text-sm text-gray-400 hover:text-sky-600 font-bold">
						<a href="{% url 'booking_app:booking_history_user' %}">Booking History (User)</a>
					</li>
				{% elif user.role == 'companion' %}
					<li class="text-sm text-gray-400 hover:text-sky-600 font-bold">
						<a href="{% url 'booking_app:booking_history_companion' %}">Booking History (Companion)</a>
					</li>
				{% endif %}
			</ul>
			
			
			
		</ul>

        {% if request.user.is_authenticated %}
            <!-- Display Logout Button if User is Logged In -->
            <a class="hidden lg:inline-block lg:ml-auto lg:mr-3 py-2 px-6 bg-sky-700 text-white text-sm font-bold rounded-xl transition duration-200" href="{% url 'account_app:logout_view' %}">Logout</a>
        {% else %}
            <!-- Display Sign In and Sign Up Buttons if User is Not Logged In -->
            <a class="hidden lg:inline-block lg:ml-auto lg:mr-3 py-2 px-6 bg-sky-700 text-white text-sm font-bold rounded-xl transition duration-200" href="{% url 'account_app:sign_in_user_view' %}">Sign In</a>
            <a class="hidden lg:inline-block py-2 px-6 bg-sky-700 hover:bg-blue-600 text-sm text-white font-bold rounded-xl transition duration-200" href="{% url 'account_app:sign_up_beneficiary_view' %}">Sign up</a>
        {% endif %}
	</nav>

	<div class="relative overflow-hidden ">
		<div aria-hidden="true" class="flex absolute -top-96 start-1/2 transform -translate-x-1/2">
			<div class="bg-gradient-to-tl from-sky-100 via-sky-200 to-sky-100 blur-3xl w-[90rem] h-[50rem] rounded-full origin-top-left -rotate-12 -translate-x-[15rem]"></div>
		</div>

		<div class="relative z-10">
			<div class="max-w-[85rem] mx-auto px-4 sm:px-6 lg:px-8 py-10 lg:py-16">
				<div class="max-w-2xl text-center mx-auto">
					{% block content %}
                    {% endblock %}
				</div>
			</div>
		</div>
	</div>

    <footer class="mt-5 p-4 text-center text-white bg-sky-600">
        &copy; Authored by Moyser 2024
    </footer>

    <script>
    // Burger menus
    document.addEventListener('DOMContentLoaded', function() {
        // open
        const burger = document.querySelectorAll('.navbar-burger');
        const menu = document.querySelectorAll('.navbar-menu');

        if (burger.length && menu.length) {
            for (var i = 0; i < burger.length; i++) {
                burger[i].addEventListener('click', function() {
                    for (var j = 0; j < menu.length; j++) {
                        menu[j].classList.toggle('hidden');
                    }
                });
            }
        }

        // close
        const close = document.querySelectorAll('.navbar-close');
        const backdrop = document.querySelectorAll('.navbar-backdrop');

        if (close.length) {
            for (var i = 0; i < close.length; i++) {
                close[i].addEventListener('click', function() {
                    for (var j = 0; j < menu.length; j++) {
                        menu[j].classList.toggle('hidden');
                    }
                });
            }
        }

        if (backdrop.length) {
            for (var i = 0; i < backdrop.length; i++) {
                backdrop[i].addEventListener('click', function() {
                    for (var j = 0; j < menu.length; j++) {
                        menu[j].classList.toggle('hidden');
                    }
                });
            }
        }
    });
    </script>
</body>
</html>
