{% extends "main_app/base.html" %}
{% load static %}
{% block title %}Dashboard{% endblock %}
{% block content %}
<div class="flex pt-0">
    <!-- Sidebar -->
    <div class="w-40 bg-sky-700 text-white min-h-screen">
        <div class="p-0">
            <h2 class="text-2xl font-semibold">Dashboard</h2>
            <ul class="mt-2">
                <li>
                    <a href="#companions" class="block py-2 px-4 hover:bg-sky-600">
                        Companions
                    </a>
                </li>
                <li>
                    <a href="#settings" class="block py-2 px-4 hover:bg-sky-600">
                        Settings
                    </a>
                </li>
            </ul>
        </div>
    </div>

    <!-- Main Content -->
    <div class="flex-2 p-0 bg-sky-100">
        <!-- Dashboard Box -->
        <div class="bg-white rounded-lg shadow-md p-6">
            <!-- Companions Section -->
            <section id="companions">
                <h2 class="text-2xl font-semibold mb-4">Companions List</h2>
                <div class="flex justify-between mb-4">
                    <!-- Add Companion Button -->
                    <a href="#" class="px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700">
                        Add New Companion
                    </a>
                    <!-- Search Input -->
                    <input type="text" name="search" placeholder="Search..." class="px-4 py-2 border rounded">
                </div>
                <!-- Companions Table -->
                <table class="min-w-full bg-white border">
                    <thead>
                        <tr class="bg-sky-200">
                            <th class="py-2 px-4 border-b">Image</th>
                            <th class="py-2 px-4 border-b">Companion Name</th>
                            <th class="py-2 px-4 border-b">Username</th>
                            <th class="py-2 px-4 border-b">Rent per Hour</th>
                            <th class="py-2 px-4 border-b">Phone Number</th>
                            <th class="py-2 px-4 border-b">Certificate</th>
                            <th class="py-2 px-4 border-b">Skills</th>
                            <th class="py-2 px-4 border-b">Email</th>
                            <th class="py-2 px-4 border-b">Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for companion in companions %}
                        <tr>
                            <td class="py-2 px-4 border-b">
                                <img src="{{ companion.image.url }}" alt="Image" class="w-16 h-16 rounded-full">
                            </td>
                            <td class="py-2 px-4 border-b">
                                {{ companion.companion.first_name }} {{ companion.companion.last_name }}
                            </td>
                            <td class="py-2 px-4 border-b">
                                {{ companion.companion.username }}
                            </td>
                            <td class="py-2 px-4 border-b">
                                ${{ companion.hour_rent }}
                            </td>
                            <td class="py-2 px-4 border-b">
                                {{ companion.phone_number }}
                            </td>
                            <td class="py-2 px-4 border-b">
                                {% if companion.certification %}
                                    <a href="{{ companion.certification.url }}" target="_blank" class="text-blue-600 hover:underline">
                                        View Certificate
                                    </a>
                                {% else %}
                                    No Certificate
                                {% endif %}
                            </td>
                            <td class="py-2 px-4 border-b">
                                {{ companion.skills.all|join:", " }}
                            </td>
                            <td class="py-2 px-4 border-b">
                                {{ companion.companion.email }}
                            </td>
                            <td class="py-2 px-4 border-b">
                                <a href="#" class="text-white rounded-full p-2 bg-blue-500 hover:bg-blue-600">
                                    Edit
                                </a>
                                <a href="#" class="ml-4 text-white rounded-full p-2 bg-red-500 hover:bg-red-600">
                                    Delete
                                </a>
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </section>
        </div>
    </div>
</div>
{% endblock %}
